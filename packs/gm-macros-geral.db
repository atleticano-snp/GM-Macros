{"name":"rages","type":"script","scope":"global","author":"Be8r6Sgxcs3sL08I","img":"icons/svg/dice-target.svg","command":"//Last Updated: 4/25/2023\n//Author: EskieMoh#2969\n\nif(Tagger.hasTags(token, \"Raging\")){\n\n    await Tagger.removeTags(token, \"Raging\");\n    await Sequencer.EffectManager.endEffects({ name: \"Rage\", object: token })\n    \n    new Sequence()\n     \n    .animation()\n    .on(token)\n    .opacity(1)\n    \n    .play();\n    \n    } else {\n    \n    Tagger.addTags(token, \"Raging\")\n    \n    new Sequence()\n    \n    .effect()\n    .file(\"jb2a.extras.tmfx.outpulse.circle.02.normal\")\n    .atLocation(token)\n    .size(4, {gridUnits: true})\n    .opacity(0.25)\n    \n    .effect()\n    .file(\"jb2a.impact.ground_crack.orange.02\")\n    .atLocation(token)\n    .belowTokens()\n    .filter(\"ColorMatrix\", {hue: -15,saturate: 1})\n    .size(3.5, {gridUnits: true})\n    .zIndex(1)\n    \n    .effect()\n    .file(\"jb2a.impact.ground_crack.still_frame.02\")\n    .atLocation(token)\n    .belowTokens()\n    .fadeIn(1000)\n    .filter(\"ColorMatrix\", {hue: -15,saturate: 1})\n    .size(3.5, {gridUnits: true})\n    .persist()\n    .zIndex(0)\n    \n    .effect()\n    .file(\"jb2a.wind_stream.white\")\n    .atLocation(token, {offset: {y:-0.05}, gridUnits: true})\n    .size(1.75, {gridUnits: true})\n    .rotate(90)\n    .opacity(0.9)\n    .filter(\"ColorMatrix\", {saturate: 1})\n    .tint(\"#FF0000\")\n    .loopProperty(\"sprite\", \"position.y\", { from: -5, to: 5, duration: 50, pingPong: true})\n    .duration(8000)\n    .fadeOut(3000)\n    \n    .effect()\n    .file(\"jb2a.particles.outward.orange.01.03\")\n    .atLocation(token)\n    .scaleToObject(2.5)\n    .opacity(1)\n    .fadeIn(200)\n    .fadeOut(3000)\n    .loopProperty(\"sprite\", \"position.x\", { from: -5, to: 5, duration: 50, pingPong: true})\n    .animateProperty(\"sprite\", \"position.y\", { from: 0, to: -100, duration: 6000, pingPong: true, delay:2000})\n    .duration(8000)\n    \n    .effect()\n    .file(\"jb2a.wind_stream.white\")\n    .atLocation(token)\n    .name(\"Rage\")\n    .attachTo(token)\n    .scaleToObject()\n    .rotate(90)\n    .opacity(1)\n    .filter(\"ColorMatrix\", {saturate: 1})\n    .tint(\"#FF0000\")\n    .persist()\n    .private()\n    \n    .effect()\n    .file(\"jb2a.token_border.circle.static.orange.012\")\n    .atLocation(token)\n    .name(\"Rage\")\n    .attachTo(token)\n    .opacity(0.6)\n    .scaleToObject(1.9)\n    .filter(\"ColorMatrix\", {saturate: 1})\n    .tint(\"#FF0000\")\n    .persist()\n    .waitUntilFinished()\n    \n    .thenDo(function(){\n       Tagger.removeTags(token, \"Raging\")\n       Sequencer.EffectManager.endEffects({ name: \"Rage\", object: token });\n    })\n    \n    .play()\n    \n    }","flags":{"advanced-macros":{"runAsGM":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.2LUI11aJqQMMxH0k"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.1.5","coreVersion":"10.291","createdTime":1687218007248,"modifiedTime":1687221696646,"lastModifiedBy":"Be8r6Sgxcs3sL08I"},"folder":null,"sort":0,"ownership":{"default":0,"Be8r6Sgxcs3sL08I":3},"_id":"MdzI7RfTLL1RG5HZ"}
